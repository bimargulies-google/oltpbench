


--
-- CONFIG_PROFILE
--
CREATE TABLE CONFIG_PROFILE (
    CFP_SCALE_FACTOR            FLOAT64 NOT NULL,
    CFP_AIPORT_MAX_CUSTOMER     STRING(10001) NOT NULL,
    CFP_FLIGHT_START            TIMESTAMP NOT NULL,
    CFP_FLIGHT_UPCOMING         TIMESTAMP NOT NULL,
    CFP_FLIGHT_PAST_DAYS        INT64  NOT NULL,
    CFP_FLIGHT_FUTURE_DAYS      INT64  NOT NULL,
    CFP_FLIGHT_OFFSET           INT64,
    CFP_RESERVATION_OFFSET      INT64,
    CFP_NUM_RESERVATIONS        INT64  NOT NULL,
    CFP_CODE_IDS_XREFS          STRING(10001) NOT NULL)
    primary key (CFP_FLIGHT_START, CFP_FLIGHT_UPCOMING, CFP_AIPORT_MAX_CUSTOMER)
;

--
-- CONFIG_HISTOGRAMS
--
CREATE TABLE CONFIG_HISTOGRAMS (
    CFH_NAME             STRING(10001) NOT NULL,
    CFH_DATA             STRING(10001) NOT NULL,
    CFH_IS_AIRPORT       INT64)
    PRIMARY KEY (CFH_NAME)
;

-- 
-- COUNTRY
--
CREATE TABLE COUNTRY (
    CO_ID        INT64   NOT NULL,
    CO_NAME      STRING(10001) NOT NULL,
    CO_CODE_2    STRING(10001) NOT NULL,
    CO_CODE_3    STRING(10001) NOT NULL)
    PRIMARY KEY (CO_ID)
;

--
-- AIRPORT
--
CREATE TABLE AIRPORT (
    AP_ID          INT64   NOT NULL,
    AP_CODE        STRING(10001) NOT NULL,
    AP_NAME        STRING(10001) NOT NULL,
    AP_CITY        STRING(10001) NOT NULL,
    AP_POSTAL_CODE STRING(10001),
    AP_CO_ID       INT64,
    AP_LONGITUDE   FLOAT64, 
    AP_LATITUDE    FLOAT64, 
    AP_GMT_OFFSET  FLOAT64, 
    AP_WAC         INT64 , 
    AP_IATTR00     INT64 , 
    AP_IATTR01     INT64 , 
    AP_IATTR02     INT64 , 
    AP_IATTR03     INT64 , 
    AP_IATTR04     INT64 , 
    AP_IATTR05     INT64 , 
    AP_IATTR06     INT64 , 
    AP_IATTR07     INT64 , 
    AP_IATTR08     INT64 , 
    AP_IATTR09     INT64 , 
    AP_IATTR10     INT64 , 
    AP_IATTR11     INT64 , 
    AP_IATTR12     INT64 , 
    AP_IATTR13     INT64 , 
    AP_IATTR14     INT64 , 
    AP_IATTR15     INT64)
    PRIMARY KEY (AP_ID)
;

--
-- AIRPORT_DISTANCE
--
CREATE TABLE AIRPORT_DISTANCE (
    D_AP_ID0       INT64   NOT NULL,
    D_AP_ID1       INT64   NOT NULL,
    D_DISTANCE     FLOAT64 NOT NULL)
    PRIMARY KEY (D_AP_ID0, D_AP_ID1)
;

--
-- AIRLINE
--
CREATE TABLE AIRLINE (
    AL_ID          INT64   NOT NULL,
    AL_IATA_CODE   STRING(10001),
    AL_ICAO_CODE   STRING(10001),
    AL_CALL_SIGN   STRING(10001),
    AL_NAME        STRING(10001) NOT NULL,
    AL_CO_ID       INT64   NOT NULL,
    AL_IATTR00     INT64 , 
    AL_IATTR01     INT64 , 
    AL_IATTR02     INT64 , 
    AL_IATTR03     INT64 , 
    AL_IATTR04     INT64 , 
    AL_IATTR05     INT64 , 
    AL_IATTR06     INT64 , 
    AL_IATTR07     INT64 , 
    AL_IATTR08     INT64 , 
    AL_IATTR09     INT64 , 
    AL_IATTR10     INT64 , 
    AL_IATTR11     INT64 , 
    AL_IATTR12     INT64 , 
    AL_IATTR13     INT64 , 
    AL_IATTR14     INT64 , 
    AL_IATTR15     INT64)
    PRIMARY KEY (AL_ID)
;

--
-- CUSTOMER
--
CREATE TABLE CUSTOMER (
    C_ID           INT64   NOT NULL,
    C_ID_STR       STRING(10001) NOT NULL,
    C_BASE_AP_ID   INT64,
    C_BALANCE      FLOAT64 NOT NULL,
    C_SATTR00      STRING(10001),
    C_SATTR01      STRING(10001),
    C_SATTR02      STRING(10001),
    C_SATTR03      STRING(10001),
    C_SATTR04      STRING(10001),
    C_SATTR05      STRING(10001),
    C_SATTR06      STRING(10001),
    C_SATTR07      STRING(10001),
    C_SATTR08      STRING(10001),
    C_SATTR09      STRING(10001),
    C_SATTR10      STRING(10001),
    C_SATTR11      STRING(10001),
    C_SATTR12      STRING(10001),
    C_SATTR13      STRING(10001),
    C_SATTR14      STRING(10001),
    C_SATTR15      STRING(10001),
    C_SATTR16      STRING(10001),
    C_SATTR17      STRING(10001),
    C_SATTR18      STRING(10001),
    C_SATTR19      STRING(10001),
    C_IATTR00      INT64 , 
    C_IATTR01      INT64 , 
    C_IATTR02      INT64 , 
    C_IATTR03      INT64 , 
    C_IATTR04      INT64 , 
    C_IATTR05      INT64 , 
    C_IATTR06      INT64 , 
    C_IATTR07      INT64 , 
    C_IATTR08      INT64 , 
    C_IATTR09      INT64 , 
    C_IATTR10      INT64 , 
    C_IATTR11      INT64 , 
    C_IATTR12      INT64 , 
    C_IATTR13      INT64 , 
    C_IATTR14      INT64 , 
    C_IATTR15      INT64 , 
    C_IATTR16      INT64 , 
    C_IATTR17      INT64 , 
    C_IATTR18      INT64 , 
    C_IATTR19      INT64)
    PRIMARY KEY (C_ID)
;

--
-- FREQUENT_FLYER
--
CREATE TABLE FREQUENT_FLYER (
    FF_C_ID        INT64   NOT NULL,
    FF_AL_ID       INT64   NOT NULL,
    FF_C_ID_STR    STRING(10001) NOT NULL,
    FF_SATTR00     STRING(10001),
    FF_SATTR01     STRING(10001),
    FF_SATTR02     STRING(10001),
    FF_SATTR03     STRING(10001),
    FF_IATTR00     INT64 , 
    FF_IATTR01     INT64 , 
    FF_IATTR02     INT64 , 
    FF_IATTR03     INT64 , 
    FF_IATTR04     INT64 , 
    FF_IATTR05     INT64 , 
    FF_IATTR06     INT64 , 
    FF_IATTR07     INT64 , 
    FF_IATTR08     INT64 , 
    FF_IATTR09     INT64 , 
    FF_IATTR10     INT64 , 
    FF_IATTR11     INT64 , 
    FF_IATTR12     INT64 , 
    FF_IATTR13     INT64 , 
    FF_IATTR14     INT64 , 
    FF_IATTR15     INT64)
   PRIMARY KEY (FF_C_ID, FF_AL_ID)
;
CREATE INDEX IDX_FF_CUSTOMER_ID ON FREQUENT_FLYER (FF_C_ID_STR);

--
-- FLIGHT
--
CREATE TABLE FLIGHT (
    F_ID            INT64   NOT NULL,
    F_AL_ID         INT64   NOT NULL,
    F_DEPART_AP_ID  INT64   NOT NULL,
    F_DEPART_TIME   TIMESTAMP NOT NULL,
    F_ARRIVE_AP_ID  INT64   NOT NULL,
    F_ARRIVE_TIME   TIMESTAMP NOT NULL,
    F_STATUS        INT64   NOT NULL,
    F_BASE_PRICE    FLOAT64 NOT NULL,
    F_SEATS_TOTAL   INT64   NOT NULL,
    F_SEATS_LEFT    INT64   NOT NULL,
    F_IATTR00       INT64 , 
    F_IATTR01       INT64 , 
    F_IATTR02       INT64 , 
    F_IATTR03       INT64 , 
    F_IATTR04       INT64 , 
    F_IATTR05       INT64 , 
    F_IATTR06       INT64 , 
    F_IATTR07       INT64 , 
    F_IATTR08       INT64 , 
    F_IATTR09       INT64 , 
    F_IATTR10       INT64 , 
    F_IATTR11       INT64 , 
    F_IATTR12       INT64 , 
    F_IATTR13       INT64 , 
    F_IATTR14       INT64 , 
    F_IATTR15       INT64 , 
    F_IATTR16       INT64 , 
    F_IATTR17       INT64 , 
    F_IATTR18       INT64 , 
    F_IATTR19       INT64 , 
    F_IATTR20       INT64 , 
    F_IATTR21       INT64 , 
    F_IATTR22       INT64 , 
    F_IATTR23       INT64 , 
    F_IATTR24       INT64 , 
    F_IATTR25       INT64 , 
    F_IATTR26       INT64 , 
    F_IATTR27       INT64 , 
    F_IATTR28       INT64 , 
    F_IATTR29       INT64)
    PRIMARY KEY (F_ID)
;
create index F_DEPART_TIME_IDX on FLIGHT (F_DEPART_TIME);

--
-- RESERVATION
--
CREATE TABLE RESERVATION (
    R_ID            INT64   NOT NULL,
    R_C_ID          INT64   NOT NULL,
    R_F_ID          INT64   NOT NULL,
    R_SEAT          INT64   NOT NULL,
    R_PRICE         FLOAT64 NOT NULL,
    R_IATTR00       INT64 , 
    R_IATTR01       INT64 , 
    R_IATTR02       INT64 , 
    R_IATTR03       INT64 , 
    R_IATTR04       INT64 , 
    R_IATTR05       INT64 , 
    R_IATTR06       INT64 , 
    R_IATTR07       INT64 , 
    R_IATTR08       INT64)
    PRIMARY KEY (R_ID, R_C_ID, R_F_ID)
;
